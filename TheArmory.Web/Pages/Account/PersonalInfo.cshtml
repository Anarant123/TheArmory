@page
@model TheArmory.Web.Pages.Account.PersonalInfo

@{
    ViewData["Title"] = "Персональная информация";
}

<div class="row">
    @await Html.PartialAsync("SideBar")
    <div class="col-md-9">
        <div class="container">
            <div class="row">
                <!-- Фото профиля -->
                <div class="col-md-3">
                    @if (!string.IsNullOrEmpty(@Model.User.PhotoName))
                    {
                        <img src="@(Model.BaseUrl + '/' + Model.User.PhotoName)" alt="Фото профиля" class="img-fluid rounded-circle">
                    }
                    else
                    {
                        <img src="/Default/Images/Person/DefoultPersonImage.png" alt="Фото профиля" class="img-fluid rounded-circle">
                    }
                </div>
                <!-- Информация о пользователе -->
                <div class="col-md-9">
                    <h2>Информация о пользователе</h2>
                    <form>
                        <div class="form-group">
                            <label for="name">Название:</label>
                            <input type="text" id="name" name="name" value="@Model.User.Name" class="form-control" readonly>
                        </div>
                        <div class="form-group">
                            <label for="phoneNumber">Номер телефона:</label>
                            <input type="text" id="phoneNumber" name="phoneNumber" value="@Model.User.PhoneNumber" class="form-control" readonly>
                        </div>
                        <div class="form-group">
                            <label for="email">Электронная почта:</label>
                            <input type="email" id="email" name="email" value="@Model.User.Email" class="form-control" readonly>
                        </div>
                        <div class="form-group">
                            <label for="registrationDateTime">Дата регистрации:</label>
                            <input type="text" id="registrationDateTime" name="registrationDateTime" value="@Model.User.RegistrationDateTime" class="form-control" readonly>
                        </div>
                        <div class="form-group">
                            <label for="regionId">Id региона:</label>
                            <input type="text" id="regionId" name="regionId" value="@Model.User.RegionId" class="form-control" readonly>
                        </div>
                        <div class="form-group">
                            <label for="statusId">Id статуса:</label>
                            <input type="text" id="statusId" name="statusId" value="@Model.User.StatusId" class="form-control" readonly>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Типы объявлений -->
<div class="row mt-3">
    <div class="col-md-12">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="active-tab" data-bs-toggle="tab" data-bs-target="#active" type="button" role="tab" aria-controls="active" aria-selected="true">Активные</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="inactive-tab" data-bs-toggle="tab" data-bs-target="#inactive" type="button" role="tab" aria-controls="inactive" aria-selected="false">Неактивные</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="banned-tab" data-bs-toggle="tab" data-bs-target="#banned" type="button" role="tab" aria-controls="banned" aria-selected="false">В бане</button>
            </li>
        </ul>
    </div>
</div>

<!-- Контент для каждого типа объявлений -->
<div class="row mt-3">
    <div class="col-md-12">
        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="active" role="tabpanel" aria-labelledby="active-tab">
                <!-- Плитки с активными объявлениями -->
                <div class="row">
                    @if (Model.TileAds is not null && Model.TileAds.Any())
                    {
                        @foreach (var ad in Model.TileAds)
                        {
                            ad.BaseUrl = Model.BaseUrl;
                            <div class="col-md-3 mb-3">
                                @await Html.PartialAsync("Ads/AdTile", ad)
                            </div>
                        }
                    }
                    else
                    {
                        <h1>Активных объявлений не найдено</h1>
                    }
                </div>
            </div>
            <div class="tab-pane fade" id="inactive" role="tabpanel" aria-labelledby="inactive-tab">
                <!-- Плитки с неактивными объявлениями -->
                <div class="row">
                    @if (Model.TileAds is not null && Model.TileAds.Any())
                    {
                        @foreach (var ad in Model.TileAds)
                        {
                            ad.BaseUrl = Model.BaseUrl;
                            <div class="col-md-3 mb-3">
                                @await Html.PartialAsync("Ads/AdTile", ad)
                            </div>
                        }
                    }
                    else
                    {
                        <h1>Неактивных объявлений не найдено</h1>
                    }
                </div>
            </div>
            <div class="tab-pane fade" id="banned" role="tabpanel" aria-labelledby="banned-tab">
                <!-- Плитки с объявлениями в бане -->
                <div class="row">
                    @if (Model.TileAds is not null && Model.TileAds.Any())
                    {
                        @foreach (var ad in Model.TileAds)
                        {
                            ad.BaseUrl = Model.BaseUrl;
                            <div class="col-md-3 mb-3">
                                @await Html.PartialAsync("Ads/AdTile", ad)
                            </div>
                        }
                    }
                    else
                    {
                        <h1>Объявлений в бане не найдено</h1>
                    }
                </div>
            </div>
        </div>
    </div>
</div>
